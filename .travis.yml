dist: trusty
sudo: required
language: python
python:
  - "2.6"
  - "2.7"
  - "3.5"
install:
  - scripts/install-vault-${VAULT_BRANCH}.sh
  - pip install tox
env:  # https://docs.travis-ci.com/user/customizing-the-build/#Matching-Jobs-with-allow_failures
matrix:
  include:
    - python: '2.7'
      env: TOXENV=py27 VAULT_BRANCH=release
    - python: '3.5'
      env: TOXENV=py35 VAULT_BRANCH=release
  allow_failures:
    - python: '2.6'
      env: TOXENV=py26 VAULT_BRANCH=release
    - python: '3.5'
      env: TOXENV=py35 VAULT_BRANCH=head
script:
  - export PATH=$HOME/bin:$PATH
  - tox
